<nav class="fixed top-0 left-0 right-0 z-50 transition-all duration-500 ease-in-out"
     [ngClass]="{
       'bg-transparent text-white': !isScrolled && !isMobileMenuOpen,
       'bg-white/95 backdrop-blur-sm text-gray-900 shadow-md': isScrolled || isMobileMenuOpen
     }">
  <div class="mx-auto px-6 md:px-20 flex items-center justify-between h-16">
    <!-- Logo -->
    <img [src]="(!isScrolled && !isMobileMenuOpen) ? '/logo/logo-contrast.svg' : '/logo/logo.svg'" 
         alt="Logo"
         class="h-6 transition-opacity duration-500" />

    <!-- Desktop Menu -->
    <ul class="hidden md:flex gap-8 text-sm font-semibold">
      <li>
        <button (click)="scrollTo('materials')" 
                class="hover:opacity-70 transition-opacity duration-200">
          Materials
        </button>
      </li>
      <li>
        <button (click)="scrollTo('gallery')" 
                class="hover:opacity-70 transition-opacity duration-200">
          Our Work
        </button>
      </li>
      <li>
        <button (click)="scrollTo('contact')" 
                class="hover:opacity-70 transition-opacity duration-200">
          Contact Us
        </button>
      </li>
    </ul>

    <!-- Hamburger Button -->
    <button 
      (click)="toggleMobileMenu()"
      class="md:hidden z-10 p-2"
      aria-label="Toggle menu">
      <div class="w-6 h-5 flex flex-col justify-between">
        <span class="block h-0.5 w-full bg-current transition-all duration-300"
              [ngClass]="{ 'rotate-45 translate-y-2': isMobileMenuOpen }"></span>
        <span class="block h-0.5 w-full bg-current transition-all duration-300"
              [ngClass]="{ 'opacity-0': isMobileMenuOpen }"></span>
        <span class="block h-0.5 w-full bg-current transition-all duration-300"
              [ngClass]="{ '-rotate-45 -translate-y-2': isMobileMenuOpen }"></span>
      </div>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div class="md:hidden overflow-hidden transition-all duration-300"
       [ngClass]="{ 'max-h-0': !isMobileMenuOpen, 'max-h-screen': isMobileMenuOpen }">
    <ul class="flex flex-col px-6 pb-6 text-sm font-semibold bg-white/95 backdrop-blur-sm text-gray-900">
      <li>
        <button (click)="scrollTo('materials')" 
                class="w-full text-left py-4 border-b border-gray-200 hover:text-gray-600 transition-colors">
          Materials
        </button>
      </li>
      <li>
        <button (click)="scrollTo('gallery')" 
                class="w-full text-left py-4 border-b border-gray-200 hover:text-gray-600 transition-colors">
          Our Work
        </button>
      </li>
      <li>
        <button (click)="scrollTo('contact')" 
                class="w-full text-left py-4 hover:text-gray-600 transition-colors">
          Contact Us
        </button>
      </li>
    </ul>
  </div>
</nav>